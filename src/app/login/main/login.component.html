<div class="main">
    <section  [ngClass]="isModoOscuro ? 'login-black' : 'login-light'" id="login">
        <form (ngSubmit)="onSubmit()" method="get">
            <div class="type-user-buttons">
              <!-- Cambia el estilo de los botones dependiendo del tipo de usuario seleccionado -->
              <!-- Cuando se hace click, cambia el tipoLogin y resetea el loginError -->
              <button id="btnLoginCliente" type="reset" [ngClass]="tipoLogin === 'CLIENTE' ? 'type-button-selected' : 'type-button'" (click)="tipoLogin = 'CLIENTE'; loginError = ''">Cliente</button>
              <button id="btnLoginVet" type="reset" [ngClass]="tipoLogin === 'VETERINARIO' ? 'type-button-selected' : 'type-button'" (click)="tipoLogin = 'VETERINARIO'; loginError = ''">Veterinario</button>
              <button id="btnLoginAdmin" type="reset" [ngClass]="tipoLogin === 'ADMIN' ? 'type-button-selected' : 'type-button'" (click)="tipoLogin = 'ADMIN'; loginError = ''">Administrador</button>
            </div>
            <div  [ngClass]="isModoOscuro ? 'login-part' : 'login-part-light'" id="login" id="loginPart">
                <h1>Iniciar Sesión</h1>

                <label for="cedulaTxt">Cedula</label>
                <input type="number" id="cedulaTxt" name="cedulaTxt" maxlength="10" [(ngModel)]="usuario.username" required>

                <!-- Si el tipoLoguin no es cliente, se muestra el campo contraseña -->
                <div *ngIf="tipoLogin !== 'CLIENTE'" class="d-flex flex-column">
                  <label for="contrasenaTxt">Contraseña</label>
                  <input type="password" id="contrasenaTxt" name="contrasenaTxt" [(ngModel)]="usuario.password" required>
                </div>

                <button id="btnLogin" type="submit" class="login-button">Iniciar Sesión</button>

                <!-- Si loginError no está vacío, muestra mensaje de error -->
                <div *ngIf="loginError" class="alert alert-danger mt-3 d-flex align-items-center" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                      <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"/>
                      <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
                    </svg>
                    <div id="alertLoginError" class="ms-3">
                         {{ loginError }}
                    </div>
                </div>
            </div>
        </form>
    </section>
    <section class="login-image">
        <img *ngIf="tipoLogin == 'CLIENTE'" src="/assets/images/login-dog.png" alt="Login Dog">
        <img *ngIf="tipoLogin == 'VETERINARIO'" src="/assets/images/login-vet.png" alt="Login Dog">
        <img *ngIf="tipoLogin == 'ADMIN'" src="/assets/images/login-admin.png" alt="Login Dog">
    </section>
</div>
